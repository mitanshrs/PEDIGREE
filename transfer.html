<!DOCTYPE html>
<html>
<head><title>PEDIGREE | Sync</title><link rel="stylesheet" href="style.css"><link rel="icon" href="logo.png"></head>
<body>
     <div class="scanline"></div>
    <nav>
        <img src="logo.png"width="35px" height="35px">
        <a href="index.html">> HOME</a>
        <a href="write.html">> WRITE</a>
        <a href="read.html">> READ</a>
        <a href="list.html">> LIST</a>
        <a href="transfer.html" style="color: var(--terminal);">> SYNC</a>
    </nav>
    <h1 class="title">PEDIGREE</h1>
    <h1>[ DATA_SYNC_INTERFACE ]</h1>
    <div class="card">
        <label>EXPORT_LOCAL_STORAGE</label>
        <button onclick="downloadAsJS()">DOWNLOAD_DB.JS</button>
    </div>
    <div class="card">
        <label>IMPORT_EXTERNAL_DATA</label>
        <input type="file" id="f">
        <button onclick="importFile()">UPLOAD_OVERWRITE</button>
    </div>
</div>
    <p class="mitansh-ud">By Mitansh Udernani</p>
    <script src="logic.js"></script>
    <script>
        function importFile() {
            const f = document.getElementById('f').files[0];
            const reader = new FileReader();
            reader.onload = function(e) {
                const s = document.createElement('script');
                s.text = e.target.result;
                document.body.appendChild(s);
                if (typeof imported_items !== 'undefined') {
                    items = imported_items; batches = imported_batches;
                    sync(); alert("Database Updated!");
                }
            };
            reader.readAsText(f);
        }
    </script>
</body>
</html>
